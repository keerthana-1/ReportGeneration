<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="modifyvulnerability.aspx.cs" Inherits="WebApplicationActivity.modifyvulnerability" %>


<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
   

    <form id="form1" runat="server">
         <div class="form-group row">
         <asp:Label ID="NameLabel" runat="server" class="col-sm-2 col-form-label" Text="Name :" Height="25px" Width="250px"></asp:Label>
<div class="col-sm-5">
        <asp:DropDownList ID="Name" runat="server" class="btn btn-secondary dropdown-toggle" DataSourceID="SqlDataSource1" DataTextField="Name" DataValueField="Name" OnSelectedIndexChanged="Page_Load" AutoPostBack="true">
        </asp:DropDownList>
    </div></div>
        <asp:SqlDataSource ID="SqlDataSource1" runat="server" ConnectionString="<%$ ConnectionStrings:ReportGenerator %>" SelectCommand="SELECT [Name] FROM [Vulnerability]"></asp:SqlDataSource>
        <asp:FormView ID="FormView1" runat="server" DataSourceID="SqlDataSource2">
              <ItemTemplate>
                AppType:
                <asp:Label ID="AppTypeLabel" runat="server" Text='<%# Bind("AppType") %>' />
                <br />
                  <br />
                Severity:
                <asp:Label ID="SeverityLabel" runat="server" Text='<%# Bind("Severity") %>' />
                <br />
                  <br />
                CWE_CVE_id:
                <asp:Label ID="CWE_CVE_idLabel" runat="server" Text='<%# Bind("CWE_CVE_id") %>' />
                <br /><br />
                OWASP:
                <asp:Label ID="OWASPLabel" runat="server" Text='<%# Bind("OWASP") %>' />
                <br /><br />
                Description:
                <asp:Label ID="DescriptionLabel" runat="server" Text='<%# Bind("Description") %>' />
                <br /><br />
                Impact:
                <asp:Label ID="ImpactLabel" runat="server" Text='<%# Bind("Impact") %>' />
                <br /><br />
                Recommendation:
                <asp:Label ID="RecommendationLabel" runat="server" Text='<%# Bind("Recommendation") %>' />
                <br /><br />
                Attributing_Factor:
                <asp:Label ID="Attributing_FactorLabel" runat="server" Text='<%# Bind("Attributing_Factor") %>' />
                <br /><br />
                  <div class="form-group">
                        <asp:LinkButton ID="EditButton" class="btn btn-dark"  Text="Edit"  CommandName="Edit"  RunAt="server"/>     
                        </div>
            </ItemTemplate>
            <EditItemTemplate>
                  <div class="form-group row">
                &nbsp;&nbsp;AppType:
                 <div class="col-sm-5"><asp:DropDownList class="btn btn-secondary dropdown-toggle" ID="AppTypeTextBox" runat="server" Text='<%# Bind("AppType") %>' >
                     <asp:ListItem>Mobile</asp:ListItem>
                    <asp:ListItem>Web </asp:ListItem>
                </asp:DropDownList>
                     </div></div>
              <div class="form-group row">
                &nbsp;&nbsp;
                Severity:
                 <div class="col-sm-5"><asp:TextBox CssClass="form-control" ID="SeverityTextBox" runat="server" Text='<%# Bind("Severity") %>' />
                </div></div>
                  <div class="form-group row">
                &nbsp;&nbsp;
                CWE_CVE_id:
                <div class="col-sm-5"> <asp:TextBox CssClass="form-control" ID="CWE_CVE_idTextBox" runat="server" Text='<%# Bind("CWE_CVE_id") %>' />
                </div></div>
                      <div class="form-group row">
                &nbsp;&nbsp;
                OWASP:
                <div class="col-sm-5"> <asp:DropDownList ID="OWASPTextBox" class="btn btn-secondary dropdown-toggle" runat="server" Text='<%# Bind("OWASP") %>' >
                      <asp:ListItem Value="a"></asp:ListItem>
                    <asp:ListItem Value="b"></asp:ListItem>
                </asp:DropDownList>
                </div></div>
              <div class="form-group row">
                &nbsp;&nbsp;
                 Description:
              <div class="col-sm-5">   <asp:TextBox ID="DescriptionTextBox" CssClass="form-control" runat="server" Text='<%# Bind("Description") %>' />
                </div></div>
                <div class="form-group row">
                &nbsp;&nbsp;
                Impact:
                 <div class="col-sm-5"><asp:TextBox CssClass="form-control" ID="ImpactTextBox" runat="server" Text='<%# Bind("Impact") %>' />
                </div></div>
            <div class="form-group row">
                &nbsp;&nbsp;
                Recommendation:
                <div class="col-sm-5"> <asp:TextBox CssClass="form-control" ID="RecommendationTextBox" runat="server" Text='<%# Bind("Recommendation") %>' />
                </div></div>
                <div class="form-group row">
                &nbsp;&nbsp;
                Attributing_Factor:
                <div class="col-sm-5"> <asp:DropDownList class="btn btn-secondary dropdown-toggle" ID="Attributing_FactorTextBox" runat="server" Text='<%# Bind("Attributing_Factor") %>' >
                     <asp:ListItem Value="Coding Error"></asp:ListItem>
                <asp:ListItem Value="Design Error"></asp:ListItem>
                <asp:ListItem Value="Deployment error"></asp:ListItem>
                <asp:ListItem Value="Vulnerable Software versions"></asp:ListItem>
                <asp:ListItem Value="Configuration Error"></asp:ListItem>
                <asp:ListItem Value="Operation Error"></asp:ListItem>
                </asp:DropDownList>
                </div></div>
                <br />
                <div>
                <asp:LinkButton ID="UpdateButton" class="btn btn-dark" runat="server" CausesValidation="True" CommandName="Update" Text="Update" />
                &nbsp;<asp:LinkButton ID="UpdateCancelButton" class="btn btn-dark" runat="server" CausesValidation="False" CommandName="Cancel" Text="Cancel" />
            </div>
                    </EditItemTemplate>
         
          
        </asp:FormView>
        <asp:SqlDataSource ID="SqlDataSource2" runat="server" ConnectionString="<%$ ConnectionStrings:ReportGenerator %>" SelectCommand="SELECT [AppType], [Severity], [CWE_CVE_id], [OWASP], [Description], [Impact], [Recommendation], [Attributing_Factor] FROM [Vulnerability] WHERE ([Name] = @Name)" UpdateCommand="update Vulnerability set AppType=@AppType, Severity=@Severity, CWE_CVE_id=@CWE_CVE_id, OWASP=@OWASP, Description=@Description, Impact=@Impact, Recommendation=@Recommendation, Attributing_Factor=@Attributing_Factor where Name=@Name">
            <SelectParameters>
                <asp:ControlParameter ControlID="Name" Name="Name" PropertyName="SelectedValue" Type="String" />
            </SelectParameters>
            <UpdateParameters>
            <asp:ControlParameter ControlID="Name" Name="Name" PropertyName="SelectedValue" Type="String" />
                    <asp:Parameter Name="AppType" Type="string" />
                    <asp:Parameter Name="Severity" Type="string" />
                    <asp:Parameter Name="CWE_CVE_id" Type="string" />
                    <asp:Parameter Name="OWASP" Type="string" />
                 <asp:Parameter Name="Description" Type="string" />
                 <asp:Parameter Name="Impact" Type="string" />
                 <asp:Parameter Name="Recommendation" Type="string" />
                 <asp:Parameter Name="Attributing_Factor" Type="string" />
            </UpdateParameters>
        </asp:SqlDataSource>
        <br />



       </form>


</body>
</html>
